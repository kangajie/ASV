<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="phc.png" type="image/png">
    <title>Garuda Layang</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
        }

        body {
            background: #000;
            overflow: hidden;
            -webkit-user-drag: none;
        }

        .video-wrapper {
            position: relative;
            width: 100vw;
            height: 100vh;
            padding-bottom: 0;
        }

        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            pointer-events: auto;
        }
    </style>
</head>
<body>
    <div class="video-wrapper">
        <iframe
            id="youtubePlayer"
            src=""
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen
            style="width:100vw;height:100vh;border:none;">
        </iframe>
    </div>

<script>
// ===================== YOUTUBE URL CONVERTER =====================
function extractVideoId(url) {
    if (!url) return null;
    
    // Bersihkan URL dari whitespace
    url = url.trim();
    
    // Jika sudah berupa Video ID saja (tidak ada http/https/youtube)
    if (!url.includes('http') && !url.includes('youtube') && !url.includes('youtu.be') && !url.includes('/') && !url.includes('?')) {
        return url;
    }
    
    let videoId = null;
    
    // Format: https://www.youtube.com/watch?v=VIDEO_ID&list=...&index=...
    // Atau: https://www.youtube.com/watch?v=VIDEO_ID?si=...
    const watchMatch = url.match(/[?&]v=([^&?#]+)/);
    if (watchMatch) {
        videoId = watchMatch[1];
    }
    
    // Format: https://youtu.be/VIDEO_ID?si=...
    // Atau: https://youtu.be/VIDEO_ID&si=...
    const shortMatch = url.match(/youtu\.be\/([^?&#]+)/);
    if (shortMatch) {
        videoId = shortMatch[1];
    }
    
    // Format: https://www.youtube.com/embed/VIDEO_ID?...
    const embedMatch = url.match(/embed\/([^?&#]+)/);
    if (embedMatch) {
        videoId = embedMatch[1];
    }
    
    // Format: https://www.youtube.com/v/VIDEO_ID?...
    const vMatch = url.match(/\/v\/([^?&#]+)/);
    if (vMatch) {
        videoId = vMatch[1];
    }
    
    // Hapus parameter tambahan jika ada (sudah di-handle oleh regex, tapi double check)
    if (videoId) {
        videoId = videoId.split('&')[0].split('?')[0].split('#')[0].trim();
    }
    
    return videoId;
}

function loadYouTubeVideo(url) {
    const videoId = extractVideoId(url);
    
    if (!videoId) {
        console.error('Video ID tidak ditemukan dari URL:', url);
        return;
    }
    
    // Build embed URL
    const embedUrl = `https://www.youtube.com/embed/${videoId}?autoplay=1&modestbranding=1&rel=0&showinfo=0&controls=1&playsinline=1`;
    
    // Load ke iframe
    const iframe = document.getElementById('youtubePlayer');
    if (iframe) {
        iframe.src = embedUrl;
    }
}

// ===================== DEFAULT VIDEO ID =====================
// GANTI VIDEO ID INI DENGAN VIDEO YOUTUBE ANDA
// Contoh: 'MIzIyJtTq7g' atau 'A1fgFUnoze0'
const DEFAULT_VIDEO_ID = 'eXgAX4cKXtc'; // Video ID dari https://youtu.be/eXgAX4cKXtc

// Load video saat halaman ready
window.addEventListener('DOMContentLoaded', function() {
    const iframe = document.getElementById('youtubePlayer');
    
    // Cek URL parameter ?v= atau ?url=
    const urlParams = new URLSearchParams(window.location.search);
    const videoParam = urlParams.get('v') || urlParams.get('url') || urlParams.get('youtube');
    
    if (videoParam) {
        // Load dari URL parameter
        loadYouTubeVideo(videoParam);
    } else {
        // Cek hash (#)
        const hash = window.location.hash.substring(1);
        if (hash) {
            loadYouTubeVideo(hash);
        } else {
            // Load default video
            if (DEFAULT_VIDEO_ID && DEFAULT_VIDEO_ID !== 'VIDEO_ID') {
                loadYouTubeVideo(DEFAULT_VIDEO_ID);
            } else {
                // Jika tidak ada default, tampilkan pesan error
                console.error('Silakan set DEFAULT_VIDEO_ID atau gunakan parameter ?v=VIDEO_ID');
            }
        }
    }
});

// ===================== PROTECTION & HARDENING =====================
document.addEventListener('contextmenu', function (e) {
    e.preventDefault();
    return false;
});

document.addEventListener('mousedown', function (e) {
    if (e.button === 2) {
        e.preventDefault();
        return false;
    }
});

document.addEventListener('mouseup', function (e) {
    if (e.button === 2) {
        e.preventDefault();
        return false;
    }
});

document.addEventListener('selectstart', function (e) {
    e.preventDefault();
    return false;
});

document.addEventListener('dragstart', function (e) {
    e.preventDefault();
    return false;
});

document.addEventListener('keydown', function (e) {
    if (e.key === 'F12' || e.keyCode === 123) {
        e.preventDefault();
        return false;
    }
    
    if (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.keyCode === 73)) {
        e.preventDefault();
        return false;
    }
    
    if (e.ctrlKey && e.shiftKey && (e.key === 'J' || e.keyCode === 74)) {
        e.preventDefault();
        return false;
    }
    
    if (e.ctrlKey && e.shiftKey && (e.key === 'C' || e.keyCode === 67)) {
        e.preventDefault();
        return false;
    }
    
    if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.keyCode === 85)) {
        e.preventDefault();
        return false;
    }
    
    if (e.ctrlKey && (e.key === 's' || e.key === 'S' || e.keyCode === 83)) {
        e.preventDefault();
        return false;
    }
    
    if (e.ctrlKey && (e.key === 'p' || e.key === 'P' || e.keyCode === 80)) {
        e.preventDefault();
        return false;
    }
    
    if (e.ctrlKey && (e.key === 'a' || e.key === 'A' || e.keyCode === 65)) {
        e.preventDefault();
        return false;
    }
    
    if (e.ctrlKey && e.shiftKey && (e.key === 'P' || e.keyCode === 80)) {
        e.preventDefault();
        return false;
    }
    
    if (e.ctrlKey && e.shiftKey && (e.key === 'E' || e.keyCode === 69)) {
        e.preventDefault();
        return false;
    }
});

document.addEventListener('copy', function (e) {
    e.preventDefault();
    return false;
});

document.addEventListener('cut', function (e) {
    e.preventDefault();
    return false;
});

document.addEventListener('paste', function (e) {
    e.preventDefault();
    return false;
});

(function() {
    var noop = function() {};
    var methods = ['log', 'debug', 'info', 'warn', 'error', 'assert', 'dir', 'dirxml', 'group', 'groupEnd', 'time', 'timeEnd', 'count', 'trace', 'profile', 'profileEnd'];
    for (var i = 0; i < methods.length; i++) {
        console[methods[i]] = noop;
    }
})();

(function() {
    var devtools = {open: false, orientation: null};
    var element = new Image();
    Object.defineProperty(element, 'id', {
        get: function() {
            devtools.open = true;
            return '';
        }
    });
    setInterval(function() {
        devtools.open = false;
        console.log(element);
        if (devtools.open) {
            document.body.innerHTML = '';
            window.location.reload();
        }
    }, 500);
})();

window.addEventListener('load', function() {
    var iframe = document.querySelector('iframe');
    if (iframe) {
        iframe.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });
    }
});
</script>
</body>
</html>
